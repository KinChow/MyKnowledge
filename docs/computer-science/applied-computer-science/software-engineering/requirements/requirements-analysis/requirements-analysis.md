# 需求分析

## 需求分析的意义及概念

### 为什么要开展需求分析（why）

万事开头难。需求作为软件开发流程[^1]的第一个阶段事关重要。

* 伪需求导致方向错误。
* 需求缺陷发现越晚，修复成本越高。



### 什么是需求分析（what）

#### 需求定义

1. 用户解决某个问题或者达到某个目的所需要的条件和能力；
2. 一个系统或者系统组件为了实现某个契约、标准、规格说明或其他需要遵循的文件而必须满足的条件或拥有的能力；
3. 对上述两点所描述的条件或能力的文档化表示。



#### 需求二重性

$$
需求=问题+解决方案
$$

* 一个问题可能有多个解决方案。
* 关键是挖掘根因。带有解决方案的需求具有误导性，要挖掘真正的需求。



#### 需求分析定义

准确理解用户的要求，进行细致的调查分析，将用户非形式的需求陈述转化为完整的需求定义，再由需求定义转化到相应的形式功能规约（需求规格说明）的过程。



输入：目标、问题和场景

输出：形式化的功能规约，质量属性和设计约束



#### 需求分析目标

* 把用户对待开发软件提出的要求进行分析与整理，确认后形成描述完整、清晰与规范的文档，确认软件需要实现哪些功能，完成哪些工作。
* 软件的一些非功能需求（如软件性能、可靠性、响应时间、可扩展性等），软件设计的约束条件，运行时与其他软件的关系等。
* 需求包括功能性需求、质量性需求和约束。



#### 需求分析任务

解决做什么的问题：全面地理解用户的各项要求，并准确地表达所接受的用户需求。



#### 需求的分层分类

##### 分类

* 功能需求
* 非功能需求
  * 描述系统展现给用户的行为和执行的操作，包括质量性能要求、约束等



##### 分层：从概要到具体

* 业务需求层
  * 根据业务需求，形成项目远景和范围文档
  * 项目远景和范围文档：反映组织结构或客户对系统、产品高层次的目标要求
* 用户需求层
  * 从项目远景和范围文档，转化为用户需求
  * 根据用户需求和业务需求，形成用例文档（use case）
  * 从业务需求，分析质量属性
  * 使用实例文档：描述用户使用产品必须要完成的任务

* 功能需求层
  * 从系统需求、用例文档（use case）、业务需求、质量属性，转化为功能需求
  * 从功能需求、质量属性、约束，形成软件需求规范和模型（需求规范说明书SRS）
  * 软件需求规范：定义开发人员必须实现的软件功能



### 需求分析中存在的普遍问题

* 输入混乱，场景不清晰
* 需求分析输出不能很好的支撑设计、开发、测试、资料
* 需求描述不清晰
* 需求分解不全面



## 需求分析的基本流程及方法

### 如何开展需求分析（How）

需求分析是层层细化的过程

需求：做什么，问题描述

分析设计：怎么做，解决方案描述



#### 需求分析主要活动

1. 问题识别
   * 收集用户的要求，确定业务目标，并提出这些需求的实现条件，以及需求应该达到的标准
2. 分析与综合
   * 逐步细化为功能需求、非功能质量属性需求，并综合系统的解决方案，给出详细逻辑模型
   * 确定每项功能需求优先级，以便需求落地管理
3. 规格说明
   * 规范化描述需求的设计规格，即需求规格说明书
4. 评审
   * 确保对需求达成共同的理解和认识
   * 对功能需求描述的正确性、完整性和清晰性，以及其它需求给予评价



#### 需求分析方法

* 功能分解方法
* 结构化分析方法
* 信息建模方法
* 面向对象的分析方法（use case）



### 基于用例的需求分析方法

1. 收集需求
   * 通过访谈、考察、研讨等形式提前确认用户需求，识别功能、性能、质量、约束等需求。
2. 定义系统边界
   * 明确系统的分析范围，系统边界确定了，use case的粒度也确定了。
3. 识别actor
   * 在系统边界外。
   * 和系统有直接交互，而且是有意义的交互。
   * 可以是人、物、定时器。
4. 识别use case
   * actor可见。
   * 对actor有价值。
   * 由系统实现。
5. 整理场景
   * 根据该功能可以在哪些用户场景下使用，有哪些输入因素，进行适当的组合归并后得出要分析的场景。
6. 描述use case
   * 详细、完整地进行用例阐述。



## 需求管理

### 为什么要做好需求管理（why）

常见需求问题：

* 需求不稳定
* 需求传递不及时
* 需求描述不准确
* 需求分解不充分



根因：对需求活动缺乏有效管理。



### 什么是需求管理（what）

需求管理是系统工程

* 需求管理是一种获取、组织并记录系统需求的系统化方案，以及一个使客户与项目团队对不断变更的系统需求达成并保持一致的过程。
* 需求管理主要是针对需求相关活动的规划、控制和变更管理。



### 如何开展需求管理（how）

#### 需求管理流程

1. 需求收集
2. 需求分析
3. 需求决策（变更）
4. 需求实现
5. 需求验证



#### 需求变更

* 原有需求基础上追加和补充新的需求

* 对原有需求进行修改和削减



#### 需求变更的影响

* 增加项目的人员
* 增加费用开支
* 影响开发进度
* 影响软件质量
* 影响开发者与用户之间的合作关系



#### 如何做好需求变更

* 做好需求变更预防
* 分级管理客户需求
* 加强需求变更的控制







## 脚注

[^1]: 需求 -> 设计 -> 编码 -> 测试 -> 维护

