# C++ VS JAVA

## 运行方式不同

* C++：编译型语言
  * C++跨平台（Arm/X86）必须重新编译！
* JAVA：编译器和解释器混合
  * 编译器对应javac生成java字节码
  * 虚拟机对应jvm，运行java字节码
  * 实现了java跨平台运行，一次编译，多平台运行



## JIT：Java解决解释型语言性能不足的方案

JAVA运行时编译Just In Time （JIT）：将java字节码运行时翻译成机器码，解决解释器的性能问题



## 其他区别

| 类型               | C++                                                          | JAVA                                                         |
| ------------------ | ------------------------------------------------------------ | ------------------------------------------------------------ |
| 与其他语言的兼容性 | 除一些特殊情况外，与C源代码兼容                              | 不向后兼容任何以前的语言<br>语法受C/C++影响                  |
| 关系               | 类名和文件名之间没有严格的关系。在C++ 中，头文件和实现文件用于特定的类。 | 强制执行严格的关系，例如，类 PayRoll 的源代码必须位于PayRoll.java 中 |
| 编程类型           | 允许过程式编程和面向对象编程。                               | 纯粹的面向对象的编程                                         |
| 内存管理           | 可供程序员访问，需要程序员自己回收内存                       | 系统（JM）控制，自动垃圾回收                                 |
| goto               | C++有goto 语句。不建议使用！                                 | Java 没有goto语句，但是goto和const也是关键字（虽然没有任何作用！） |
| 多重继承           | C++提供多重继承。virtual关键字用于解决多继承过程中出现的问题。不建议使用！ | Java 不提供多重继承重                                        |
| 范围解析运算符     | C++具有作用域解析运算符(::)，用于定义类外部的方法，并在存在同名局部变量的作用域内访问全局变量。`using namespace std;` | (::)Java 中没有作用域解析运算符。方法定义必须出现在类中，因此不需要范围解析。 |
| 配套方式           | C++同时支持方法重载和运算符重载                              | Java只支持方法重载，不提供运算符重载                         |
| 可移植性           | 必须针对平台重新编译源代码                                   | 字节码类可转移到特定于平台的JVM                              |
| 运行时错误检测     | 程序员的责任                                                 | JVM责任                                                      |
| 功能与数据         | 函数和数据可以存在于任何类的外部，全局和命名空间范围都可用。 | 所有函数和数据都存在于类中；封装范围可用。                   |
| 指针               | C++ 支持指针                                                 | Java 仅提供对指针的有限支持                                  |
| struct/union       | C++兼容C，支持struct/union                                   | Java不支持struct/union                                       |




## 语法对比

* C++ static
  * 兼容了C语言的static概念：
    * ﻿﻿静态局部变量：函数内部变量，但放于全局数据区
    * ﻿﻿静态全局变量：本文件可见，其他文件需extern才能获取
    * ﻿﻿静态函数：本文件可见，同上
* Java
  * 和C++的static概念一致，用于定义静态数据成员和静态成员函数



## 总结

* C++和Java都是为了面向对象编程，在大方向上非常相似
  * ﻿特征：封装、继承、多态
* C++有历史包袱存在（需要前向兼容C语言），所以保留了过程式编程：
  * ﻿﻿struct/union
      * ﻿﻿Java中一切皆为对象class
  * ﻿﻿指针/引用
      * ﻿﻿JVM提供了自动垃圾回收，程序员无需自己管理闷存
      * ﻿﻿C++为了兼容C语言，保留了指针操作。但是C++11以后，C++推行RAII体系，体现在智能指针，来确保资源的正确获取和释放
* 总的来说，C++和Java无论是语法、编程思想上都非常接近