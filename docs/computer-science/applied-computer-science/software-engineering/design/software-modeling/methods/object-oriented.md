# 面向对象

## 术语

类：一个类描述了属于它的对象的内容：它描述了数据字段的集合（称为实例变量），并定义了操作（称为方法）。

对象：对象是类的元素（或实例）；对象具有其类的行为。对象是程序的实际组件，而类指定实例的创建方式和行为方式。

方法：方法是对象能够执行的动作。



## 面向对象活动

### 瀑布模型（软件开发方法）

1. 需求分析
2. 设计
3. 实现
4. 验证
5. 维护



### 三个阶段

* 面向对象分析（做什么）
  * 定义
    * 通过面向对象方法，围绕对象的行为（过程）、状态（数据）及其之间的交互组织需求，创建一个独立于实现约束的系统功能需求模型。
  * 常用模型
    * 用例：用例描述了系统必须完成的标准领域功能的场景。
    * 对象模型：对象模型描述了主要对象的名称、类关系、操作和属性。
* 面向对象设计（怎么做）
  * 定义
    * 通过应用架构模式和具有面向对象设计原则的设计模式来设计软件架构。
* 面向对象编程
  * 定义
    * 面向对象编程面向对象编程是一种编程范式或编程风格。 它以类或对象作为组织代码的基本单元，并将封装、抽象、继承、多态四个特性，作为代码设计和实现的基石。



## 特性

### 封装

#### 定义

类通过暴露有限的访问接口，授权外部仅能通过类提供的方式来访问内部信息或者数据。

* 信息隐藏
* 数据访问保护



#### 意义

* 保护数据不被随意修改，提高代码的可维护性
* 仅暴露有限的必要接口，提高类的易用性



### 抽象

#### 定义

抽象是隐藏方法的具体实现，让使用者只需要关系方法提供了哪些功能，不需要知道这些功能的具体实现。

抽象通过接口类或者抽象类来实现。



#### 意义

* 提供代码的可扩展性、维护性，修改实现不需要修改定义，减少代码的改动范围
* 处理复杂系统的有效手段，能有效地过滤掉不必要关注的信息



### 继承

#### 定义

继承表示类之间is-a关系。



模式：

* 单继承
  * 表示一个子类只能继承一个父类
* 多继承
  * 表示一个子类可以继承多个父类



#### 意义

* 解决代码复用问题



### 多态

#### 定义

多态是指子类可以替换父类，在实际代码运行中，调用子类的方法实现。



#### 意义

* 提供代码的扩展性和复用性





## 面向对象编程与面向过程编程的区别与联系

### 编程范式

* 面向对象编程
* 面向过程编程
* 函数式编程



### 面向过程编程

### 定义

面向过程编程以过程（方法、函数、操作）作为组织代码的基本单元，以数据（成员变量、属性）与方法相分离为主要特点。

面向过程编程的风格是流程化的，通过拼接一组顺序执行的方法来操作数据完成一项功能。



### 区别

|          | 面向对象编程           | 面向过程编程             |
| -------- | ---------------------- | ------------------------ |
| 基本单元 | 类或对象               | 过程（方法、函数、操作） |
| 特点     | 封装、抽象、继承、多态 | 数据与方法相分离         |



### 面向对象编程相比面向过程编程的优势

* 面向对象编程更能应对大规模复杂程序的开发
  * 对于大规模复杂程序的开发，程序的处理流程并非单一的一条线，而是错综复杂的网状结构。面向对象编程比起面向过程编程更能应对这种复杂类型的程序开发。
* 面向对象编程风格的代码更易复用、易扩展、易维护
  * 面向对象编程具有封装、抽象、继承、多态的特性，利用这些特性编写代码，更易复用、易扩展、易维护
* 面向对象编程更人性化、更高级、更智能



### 哪些代码看起来是面向对象实际上是面向过程

* 滥用getter和setter方法
* 滥用全局变量和全局方法
* 定义数据和方法分离的类



## 接口和抽象类的区别及各自的应用场景

* 抽象类
  * 定义
    * 不允许被实例化，只能被继承
    * 抽象类可以包含属性和方法。方法既可以包含代码实现，也可以不包含代码实现（抽象方法）
    * 子类继承抽象类，必须实现抽象类中所有抽象方法
  * 意义
    * 对成员变量和方法的抽象，是一种is-a关系，是为了解决代码复用问题
  * 应用场景
    * 表示一种is-a关系，解决代码复用问题，隔离接口和具体的实现，提高代码的扩展性
* 接口
  * 定义
    * 接口不包含属性（成员变量）
    * 接口只能声明方法，方法不能包含代码实现
    * 类要实现接口的时候，必须实现接口中声明的所有方法
  * 意义
    * 对方法的抽象，是一种has-a关系，表示具有某些功能，是为了解决解耦问题，隔离接口和具体的实现，提高代码的扩展性
  * 应用场景
    * 表示一种has-a关系，解决抽象问题





## 设计思想

### 基于接口而非实现的编程

做软件开发的时候要有抽象意识、封装意识、接口意识。越抽象、越顶层、越脱离具体某一实现的设计，越能提高代码的灵活性、拓展性、可维护性。



定义接口

命名要足够通用，不能包含跟具体实现相关的字眼

与特定实现有关的方法不要定义在接口中



指导编程开发、架构设计、系统设计等

### 多用组合少用继承



### 面向过程的贫血模型和面向对象的充血模型



## 参考

https://caml.inria.fr/pub/docs/oreilly-book/html/book-ora140.html

https://en.wikipedia.org/wiki/Object-oriented_analysis_and_design
