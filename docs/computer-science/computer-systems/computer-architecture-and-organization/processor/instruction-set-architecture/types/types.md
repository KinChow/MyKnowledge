# 指令集类型

## 复杂指令集(CISC)

复杂指令集计算机（英文：Complex Instruction Set Computer；缩写：CISC）是一种微处理器指令集架构，每个指令可执行若干低端操作，诸如从存储器读取、存储、和计算操作，全部集于单一指令之中。与之相对的是精简指令集。



### 微处理器架构

属于复杂指令集的处理器有CDC 6600、System/360、VAX、PDP-11、Motorola 68000家族、x86、AMD Opteron等。



### 目的

复杂指令集（Complex Instruction Set Computer, CISC）架构的目的在于简化编程，特别是汇编语言编程，并减少程序的指令数量。



### 特点

* **指令多样性**：CISC架构提供了大量的指令，每条指令可以执行多种不同的操作，包括算术运算、逻辑运算、数据传输、程序控制等。
* **操作复杂性**：CISC指令通常可以执行复杂的操作，如嵌套的分支、循环结构、字符串处理等，有时单条指令就能完成一个完整的计算任务。
* **寻址模式丰富**：CISC架构支持多种寻址模式，如直接寻址、间接寻址、基址寻址、变址寻址、相对寻址等，为程序员提供了灵活的内存访问方式。
* **指令长度可变**：CISC指令的长度是不固定的，根据指令的不同操作和操作数长度，指令长度也会有所不同。
* **硬件实现复杂**：为了支持丰富的指令集和复杂的寻址模式，CISC处理器的硬件设计相对复杂，包括更多的控制逻辑和更大的解码器。
* **编程灵活性**：CISC架构的设计初衷是为了简化程序员的编程工作，通过提供强大的指令集减少了编程的复杂性。
* **内存带宽优化**：CISC指令集的设计往往考虑到了内存访问的优化，尽量减少程序运行时对内存的访问次数，从而提高程序的运行效率。
* **编译器依赖**：CISC架构的性能在很大程度上依赖于编译器的能力，编译器需要能够有效地将高级语言转换为机器码，并优化指令的使用。
* **性能与能效权衡**：由于CISC处理器的复杂性，它们可能在性能和能效之间需要做出权衡，特别是在现代处理器设计中，能效成为了一个重要的考虑因素。



### 优缺点

优点：

* 编程简便：CISC架构提供了丰富的指令集，每条指令可以执行复杂的操作，减少了编程时所需的指令数量，使得程序员可以用较少的代码实现复杂的功能。
* 代码密度：由于CISC指令可以执行多个操作，生成的机器代码通常更短，这有助于减少程序的内存占用，提高代码密度。
* 内存访问优化：CISC架构通过提供多种寻址模式和复杂的指令，减少了对内存的访问次数，从而提高了内存的使用效率。
* 硬件并行性：CISC处理器的设计允许在单个时钟周期内执行多条指令，这提高了指令的吞吐量和处理器的性能。
* 强大的控制流指令：CISC架构提供了多种控制流指令，如条件分支、循环、子程序调用等，这些指令可以减少程序中的跳转指令数量。

缺点：

* 硬件复杂性：CISC架构的复杂性导致了处理器硬件设计的复杂性，增加了处理器的制造成本和功耗。
* 编译器依赖性：CISC架构的性能在很大程度上依赖于编译器的优化能力，编译器需要能够有效地映射高级语言到复杂的指令集。
* 指令执行速度：虽然CISC指令功能强大，但复杂的指令解码和执行过程可能导致指令执行速度慢于精简指令集（RISC）架构。
* 能效比低：CISC处理器由于其复杂的硬件设计，通常在能效方面不如RISC处理器，特别是在移动和嵌入式设备中，能效是一个重要的考虑因素。
* 编程难度：对于现代程序员来说，CISC架构的复杂性可能使得编写和调试汇编代码变得更加困难，尤其是在高级编程语言广泛使用的今天。



## 精简指令集(RISC)

精简指令集计算机（英语：Reduced Instruction Set Computer，缩写：RISC）或简译为精简指令集，是计算机中央处理器的一种设计模式。这种设计思路可以想像成是一家模块化的组装工厂，对指令数目和寻址方式都做了精简，使其实现更容易，指令并行执行程度更好，编译器的效率更高。



### 微处理器架构

目前常见的精简指令集微处理器包括DEC Alpha、ARC、ARM、AVR、MIPS、PA-RISC、Power ISA（包括PowerPC、PowerXCell）、RISC-V和SPARC等。



### 目的

精简指令集是一种设计思想，目的是设计出一套能在高时钟频率下周期执行的简单有效的指令集。降低硬件复杂程度。提高对编译器的要求。



### 特点

* **指令数量少**：RISC架构的处理器通常只有几十条基础指令，这使得处理器的设计更加简洁，易于实现和优化。
* **指令格式简单统一**：大多数RISC指令具有相同的长度和格式，这简化了指令的解码过程，提高了指令执行的速度。
* **执行速度快**：由于指令简单，RISC处理器可以在一个或少数几个时钟周期内完成大多数指令的执行，从而提高了整体的处理速度。
* **寄存器使用频繁**：RISC架构倾向于使用大量的寄存器来存储数据，减少了对主内存的访问次数，从而降低了内存访问延迟和提高了数据处理速度。
* **流水线和并行处理**：RISC处理器通常支持流水线执行和并行处理技术，这允许多个指令同时处于不同的执行阶段，进一步提高了指令的吞吐量和处理器的性能。
* **编译器优化**：RISC架构依赖于编译器的优化来生成高效的代码。编译器会负责将复杂的操作转换为简单的RISC指令序列。
* **低功耗**：由于指令执行速度快，寄存器使用频繁，RISC处理器通常能够在较低的功耗下运行，这使得它们非常适合移动和嵌入式设备。
* **可扩展性**：RISC架构的设计简单性使得它容易扩展，可以通过添加协处理器或专用硬件来增强特定类型的计算能力。
* **易于实现和维护**：RISC架构的简洁性使得硬件设计和软件开发更加容易，也降低了维护成本。



### 优缺点

优点：

* 高性能：由于指令集较小，每条指令的结构简单，RISC处理器可以在一个时钟周期内完成更多的指令，从而提供更高的性能。
* 高能效：简单的指令集和对寄存器的频繁使用减少了对内存的访问，这有助于降低能耗，特别是在移动和嵌入式设备中。
* 简化的硬件设计：较少的指令意味着处理器的控制单元和解码逻辑可以设计得更简单，这有助于减少硬件复杂性和成本。
* 易于流水线化：RISC架构的简单性使得实现流水线执行更容易，这进一步提高了处理器的吞吐量和性能。
* 编译器优化：简单的指令集使得编译器能够更有效地优化代码，生成更高效的机器码。
* 可扩展性：RISC架构易于扩展，可以通过添加新的专用指令或协处理器来增强特定类型的计算能力。

缺点：

* 编程难度：对于程序员来说，使用RISC架构编写汇编语言可能比CISC（复杂指令集计算机）架构更具挑战性，因为需要更多的指令来完成某些任务。
* 代码密度：由于RISC指令通常只执行简单的操作，编写复杂的程序可能需要更多的指令，这可能导致较大的代码大小。
* 内存带宽需求：虽然RISC处理器减少了对内存的访问次数，但是当程序规模较大时，可能会对内存带宽提出较高的要求。
* 对操作系统的依赖：RISC架构通常依赖于操作系统和编译器来管理任务调度和内存管理，这可能会增加操作系统的复杂性。
* 专用硬件需求：为了提高特定类型的计算性能，RISC处理器可能需要额外的专用硬件支持，如浮点单元（FPU）或图形处理单元（GPU）。



## 超长指令字(VLIW)

超长指令字（Very Long Instruction Word, VLIW）是一种计算机处理器架构，其核心设计理念是在一个指令周期内并行执行多个指令。这种架构通过将多个相互独立的简单指令组合成一个长指令字来实现指令级并行（Instruction-Level Parallelism, ILP）。



### VLIW架构的特点

- **指令并行执行**：VLIW处理器能够在每个时钟周期内同时发射和执行多条指令，提高了处理器的吞吐率和性能。
- **简化的硬件设计**：由于指令之间的并行性是由编译器在编译时期确定的，硬件不需要复杂的动态调度逻辑，从而简化了处理器的设计。
- **固定长度的指令**：与RISC和CISC的可变长度指令不同，VLIW架构中的指令长度通常是固定的，这有助于简化指令的解码过程。
- **依赖编译器**：VLIW架构高度依赖编译器的能力来识别并行指令并进行有效的指令调度，这可能导致编译器的复杂性增加。



### VLIW架构的优缺点

优点：

- **提高性能**：通过并行执行多条指令，VLIW架构能够显著提高处理器的性能。
- **简化硬件**：减少了处理器硬件的复杂性，有助于提高处理器的时钟频率和能效比。
- **高效的资源利用**：VLIW架构允许更高效的利用处理器的执行单元，减少了资源的空闲时间。

缺点：

- **编译器负担**：编译器需要负责发现指令间的并行性并进行调度，这增加了编译器的复杂性和编译时间。
- **代码密度问题**：由于指令字长度固定，可能会导致某些指令无法充分利用，从而影响代码的密度和性能。
- **架构依赖性**：VLIW架构的程序通常需要针对特定的处理器架构重新编译，这限制了代码的可移植性。



### 应用领域

VLIW架构广泛应用于需要高性能计算的领域，如数字信号处理器（DSP）、图形处理单元（GPU）和某些嵌入式系统。例如，ATI的Radeon系列GPU采用了VLIW架构，以提高图形渲染的效率和性能。

VLIW架构通过其独特的设计，为处理器性能的提升提供了一种有效的途径，尤其是在并行计算密集型的应用场景中。然而，它也带来了对编译器能力的高要求和对硬件资源的特定需求，这些因素需要在设计和实现VLIW处理器时予以考虑



## 比较

### 复杂指令集(CISC) vs 精简指令集(RISC)

| 对比类别       | CISC                               | RISC                               |
| -------------- | ---------------------------------- | ---------------------------------- |
| 代表架构       | X86                                | ARM、RISCV、PowerPC、MIPS          |
| 指令系统       | 复杂，庞大                         | 简单，精简                         |
| 指令条数       | 一般大于200条                      | 一般小于100条                      |
| 指令字长       | 不固定                             | 定长                               |
| 可访存指令     | 不限制                             | Load/store访问                     |
| 指令执行时间   | 相差较大                           | 基本都在一个周期内完成             |
| 指令便用频率   | 相差较大                           | 都比较经常使用                     |
| 通用寄存器数目 | 较少，使用memory多                 | 较多，绝大多数操作都在寄存器中完成 |
| 代码优化编译   | 难于用优化编译生成高效目标代码程序 | 优化效果大，生成代码高效           |